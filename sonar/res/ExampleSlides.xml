<?xml version="1.0" encoding="utf-8"?>

<organisation>
	<protocol>
		<name>PC</name>
			<role>Prod</role>
			<role>Cons</role>
		<file>res/protocols/ExampleSlides/pc.rnw</file>
	</protocol>
	<protocol>
		<name>PC2</name>
		<role>Cons1</role>
		<role>DM</role>
		<role>Cons2</role>
		<file>res/protocols/ExampleSlides/pc2.rnw</file>
	</protocol>
	<protocol>
		<name>PC3</name>
		<role>Prod1</role>
		<role>Prod2</role>
		<file>res/protocols/ExampleSlides/pc3.rnw</file>
	</protocol>
	<opa>
		<name>O1</name>
		<task>
			<exec>
				<input>
					<protocol>PC2</protocol>
					<role>Cons2</role>
				</input>
			</exec>
			<split>
				<input>
					<protocol>PC</protocol>
					<role>Prod</role>
					<role>Cons</role>
				</input>
				<output>
					<protocol>PC</protocol>
					<role>Prod</role>
				</output>
				<output>
					<protocol>PC</protocol>
					<role>Cons</role>
				</output>
			</split>
			<deleg>
				<input>
					<protocol>PC</protocol>
					<role>Prod</role>
				</input>
				<to>O2</to>
			</deleg>
			<deleg>
				<input>
					<protocol>PC</protocol>
					<role>Cons</role>
				</input>
				<to>O3</to>
			</deleg>
		</task>
		<resource>resourceDummy1</resource>
		<communicationProtocol>protocolDummy1</communicationProtocol>
	</opa>
	<opa>
		<name>O2</name>
		<task>
			<exec>
				<input>
					<protocol>PC</protocol>
					<role>Prod</role>
				</input>
			</exec>
			<exec>
				<input>
					<protocol>PC3</protocol>
					<role>Prod2</role>
				</input>
			</exec>
			<split>
				<input>
					<protocol>PC3</protocol>
					<role>Prod1</role>
					<role>Prod2</role>
				</input>
				<output>
					<protocol>PC3</protocol>
					<role>Prod1</role>
				</output>
				<output>
					<protocol>PC3</protocol>
					<role>Prod2</role>
				</output>
			</split>
			<refine>
				<input>
					<protocol>PC</protocol>
					<role>Prod</role>
				</input>
				<output>
					<protocol>PC3</protocol>
					<role>Prod1</role>
					<role>Prod2</role>
				</output>
			</refine>
			<deleg>
				<input>
					<protocol>PC3</protocol>
					<role>Prod1</role>
				</input>
				<to>O21</to>
			</deleg>
            <deleg>
                <input>
                    <protocol>PC3</protocol>
                    <role>Prod2</role>
                </input>
                <to>O22</to>
            </deleg>
		</task>
		<resource>resourceDummy2</resource>
		<resource>resourceDummy6</resource>
		<communicationProtocol>protocolDummy1</communicationProtocol>
	</opa>
	<opa>
		<name>O3</name>
		<task>
			<exec>
				<input>
					<protocol>PC</protocol>
					<role>Cons</role>
				</input>
			</exec>
			<exec>
				<input>
					<protocol>PC2</protocol>
					<role>DM</role>
				</input>
			</exec>
			<split>
				<input>
					<protocol>PC2</protocol>
					<role>Cons1</role>
					<role>DM</role>
                    <role>Cons2</role>
				</input>
				<output>
					<protocol>PC2</protocol>
					<role>Cons1</role>
				</output>
				<output>
					<protocol>PC2</protocol>
					<role>DM</role>
				</output>
                <output>
                    <protocol>PC2</protocol>
                    <role>Cons2</role>
                </output>
			</split>
			<refine>
				<input>
					<protocol>PC</protocol>
					<role>Cons</role>
				</input>
				<output>
					<protocol>PC2</protocol>
					<role>Cons1</role>
                    <role>DM</role>
					<role>Cons2</role>
				</output>
			</refine>
			<deleg>
				<input>
					<protocol>PC</protocol>
					<role>Cons</role>
				</input>
				<to>O4</to>
			</deleg>
            <deleg>
                <input>
                    <protocol>PC2</protocol>
                    <role>Cons1</role>
                </input>
                <to>O31</to>
            </deleg>
            <deleg>
                <input>
                    <protocol>PC2</protocol>
                    <role>Cons2</role>
                </input>
                <to>O1</to>
            </deleg>
		</task>
		<resource>resourceDummy3</resource>
		<resource>resourceDummy7</resource>
		<communicationProtocol>protocolDummy2</communicationProtocol>
	</opa>
	<opa>
		<name>O21</name>
		<task>
			<exec>
				<input>
					<protocol>PC3</protocol>
					<role>Prod1</role>
				</input>
			</exec>
		</task>
		<resource>resourceDummy4</resource>
		<communicationProtocol>protocolDummy4</communicationProtocol>
	</opa>
	<opa>
		<name>O22</name>
		<task>
			<exec>
				<input>
					<protocol>PC3</protocol>
					<role>Prod2</role>
				</input>
			</exec>
		</task>
		<resource>resourceDummy5</resource>
		<communicationProtocol>protocolDummy5</communicationProtocol>
	</opa>
    <opa>
        <name>O4</name>
        <task>
            <exec>
                <input>
                    <protocol>PC</protocol>
                    <role>Cons</role>
                </input>
            </exec>
        </task>
        <resource>resourceDummy5</resource>
        <communicationProtocol>protocolDummy5</communicationProtocol>
    </opa>
    <opa>
        <name>O31</name>
        <task>
            <exec>
                <input>
                    <protocol>PC2</protocol>
                    <role>Cons1</role>
                </input>
            </exec>
        </task>
        <resource>resourceDummy5</resource>
        <communicationProtocol>protocolDummy5</communicationProtocol>
    </opa>
</organisation>
